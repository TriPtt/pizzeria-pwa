<template>
  <div id="app">
    <router-view />
    
    <!-- üÜï Bottom Navigation -->
    <BottomNavigation 
      :cart-count="cartCount"
      :hide-on-scroll="true"
      @tab-change="handleTabChange"
    />
  </div>
</template>

<script setup>
import { ref, provide } from 'vue'
import BottomNavigation from './components/BottomNavigation.vue'

// √âtat global du panier (tu peux remplacer par Pinia plus tard)
const cartCount = ref(3) // Exemple

// Gestion du changement d'onglet
const handleTabChange = (tab) => {
  console.log('üîÑ Changement onglet:', tab.label)
  // Ici tu peux ajouter des analytics, etc.
}

// Provide pour que les composants enfants puissent modifier le cart count
provide('updateCartCount', (count) => {
  cartCount.value = count
})
</script>

<style>
#app {
  /* Espace pour la bottom nav */
  padding-bottom: calc(70px + env(safe-area-inset-bottom, 0px));
}

/* Reset par d√©faut */
* {
  box-sizing: border-box;
}

body {
  margin: 0;
  padding: 0;
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
}
</style>
